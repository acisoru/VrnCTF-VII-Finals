Задача заключалась в том, что нужно было переполнить буффер на 10 байт, после чего передать строчку ЦАРЬ_ПЕТР_ВЕЛИКИЙ вместо той, которая лежала в check переменной